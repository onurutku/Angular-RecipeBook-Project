<div class="row">
  <div class="col-xs-12">
    <h4 class="message">{{ message }}</h4>
  </div>
</div>
<form [formGroup]="editForm" (ngSubmit)="onSubmit()">
  <div class="row">
    <div class="col-xs-12">
      <div class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control" [formControlName]="'name'" />
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <div class="form-group">
        <label for="title">Title</label>
        <input type="text" class="form-control" [formControlName]="'title'" />
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <div class="form-group">
        <label for="imgPath">Path</label>
        <input
          type="text"
          class="form-control"
          [formControlName]="'imagePath'"
          #imagePath
        />
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <img
        style="max-height: 300px; width: 100%"
        [src]="imagePath.value"
        class="img-responsive"
      />
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <div class="form-group">
        <label for="description">Description</label>
        <textarea
          class="form-control"
          rows="6"
          [formControlName]="'description'"
        >
        </textarea>
      </div>
    </div>
  </div>
  <h4 class="mt-2">
    Ingredients
    <button type="button" (click)="addControl()" class="btn btn-primary btn-sm">
      Add
    </button>
  </h4>
  <div class="row">
    <div class="col-sm-12" [formArrayName]="'ingredients'">
      <div
        class="input-group"
        *ngFor="let ingredient of getControls(); let i = index"
        [formGroupName]="i"
      >
        <div class="col-sm-7 me-3">
          <input class="form-control" type="text" [formControlName]="'name'" />
        </div>
        &nbsp;
        <div class="col-sm-3 me-3">
          <input
            class="form-control"
            type="number"
            [formControlName]="'amount'"
          />
        </div>
        &nbsp;
        <button type="button" (click)="deleteControl(i)" class="btn btn-danger">
          X
        </button>
      </div>
    </div>
  </div>
  <hr />
  <button
    type="submit"
    [disabled]="editForm.invalid"
    class="btn btn-success float-end"
  >
    {{ editMode ? "Update" : "Save" }}
  </button>
</form>
